<!DOCTYPE html>
<html>
<head>
<title>User Dashboard</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
const supabaseClient = supabase.createClient(
    "https://xzatttpouvlhqzbuwgmc.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
);

// ðŸ”’ BLOCK UNAUTHENTICATED USERS
supabaseClient.auth.getUser().then(({ data }) => {
    if (!data.user) {
        // No valid login â†’ go back to login page
        window.location.href = "login.html";
    }
});
</script>

<h1>Welcome User</h1>
<p>Your achievements appear below:</p>

<div id="achBox"></div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="supabase.js"></script>

<script>
async function load() {
    let data = await getAchievements();
    document.getElementById("achBox").innerHTML =
        data.map(a => `<p>â€¢ ${a.text}</p>`).join("");
}
load();
</script>
    <button onclick="logout()">Logout</button>

<script>
async function logout() {
    await supabase.auth.signOut();
    alert("Logged out!");
    window.location.href = "login.html";
}
</script>

</body>
</html>


